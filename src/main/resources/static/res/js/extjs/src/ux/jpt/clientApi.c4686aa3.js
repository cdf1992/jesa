function getApi(e,t,o){var n=null;return $.ajax({url:e,type:"POST",async:!1,timeout:TIMEOUT,contentType:"application/x-www-form-urlencoded;charset=UTF-8",data:t,complete:function(e){200!=e.status&&(n=null)},success:function(e){n=e,0!=n.code&&1==o&&jAlert_error("<div id='popup_message'>"+n.msg+"  (错误代码："+n.code+")</div>","提示")}}),n}function getVersionApi(e){var t="https://127.0.0.1:28000/api/getVersion",o={crosFlag:0};return getApi(t,o,e)}function verifyPinApi(e,t,o){e=encodeURIComponent(e);var n,r="https://127.0.0.1:28000/api/verifyPin";return n=0==o?{password:e,dwProvType:1}:{password:e,dwProvType:2050,strContainer:"//SM2/SM2CONTAINER0002"},getApi(r,n,t)}function clientHelloApi(e,t){var o,n="https://127.0.0.1:28000/api/clientHello";return o=0==t?{authType:0,dwProvType:1}:{authType:0,dwProvType:2050,strContainer:"//SM2/SM2CONTAINER0002"},getApi(n,o,e)}function clientAuthApi(e,t,o,n){t=encodeURIComponent(t);var r,i="https://127.0.0.1:28000/api/clientAuth";return r=0==n?{password:t,serverHello:e,dwProvType:1}:{password:t,serverHello:e,dwProvType:2050,strContainer:"//SM2/SM2CONTAINER0002"},getApi(i,r,o)}function readCertInfoApi(e,t,o){var n,r="https://127.0.0.1:28000/api/readCertInfo";return n=0==o?{certInfoNo:e,dwProvType:1}:{certInfoNo:e,dwProvType:2050,strContainer:"//SM2/SM2CONTAINER0002"},getApi(r,n,t)}function jianceReadCertInfoApi(e){var t,o=null,n="https://127.0.0.1:28000/api/readCertInfo";return t=0==e?{certInfoNo:71,dwProvType:1}:{certInfoNo:71,dwProvType:2050,strContainer:"//SM2/SM2CONTAINER0002"},$.ajax({url:n,type:"POST",async:!1,timeout:TIMEOUT,contentType:"application/x-www-form-urlencoded;charset=UTF-8",data:t,complete:function(e){200!=e.status&&(o=null)},success:function(e){o=e,0!=o.code&&167!=o.code&&jAlert_error("<div id='popup_message'>"+o.msg+"  (错误代码："+o.code+")</div>","提示")}}),o}function signDataApi(e,t,o,n){t=encodeURIComponent(t);var r,i="https://127.0.0.1:28000/api/signData";return r=0==n?{password:t,data:e,signAlgId:"SHA1withRSA",dwFlag:"0x400000",dwProvType:1}:{password:t,data:e,signAlgId:"GBECSM3",dwFlag:"0x400000",dwProvType:2050,strContainer:"//SM2/SM2CONTAINER0002"},getApi(i,r,o)}function getAlg(){var e=getCookie("token"),t=e.split(TOKEN_SPLIT);if(3==t.length&&"00"==t[2]){var o=getCookie("alg");if(""!=o)return setCookie("alg",o,seconds),o;jAlert_close("<div id='popup_message'>会话失效，请重新登录！</div>","提示",function(e){e&&(window.location.href=getDomainName())})}else alg="0"}var cryptType=0,alg=0,apiversion="1.0";